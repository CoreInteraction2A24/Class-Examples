const books = [
  {
    title: "Without Women",
    author: "Haruki Murakami",
    summary:
      "The stories are about men who have lost women in their lives, usually to other men or death.",
    genre: "Anthology",
    bookCover:
      "https://upload.wikimedia.org/wikipedia/en/e/e1/Onna_no_inai_otokotachi_%28Murakami_book%29.png",
    publishData: {
      name: "Bungeishunjū",
      year: 2014,
    },
    rating: 4,
    readingDate: {
      start: "02-08-2024",
      end: "02-28-24",
    },
  },
  {
    title: "Another Book",
    author: "Haruki Murakami",
    summary: "in their lives, The s lost women  usually to other men or death.",
    genre: "sportsMemoir",
    bookCover:
      "https://images.bwbcovers.com/030/What-I-Talk-about-When-I-Talk-about-Running-Murakami-Haruki-9780307269195.jpg",
    publishData: {
      name: "Random House",
      year: 2004,
    },
    rating: 5,
    readingDate: {
      start: "01-03-2024",
      end: "03-06-24",
    },
  },
  {
    title: "Without Women",
    author: "Haruki Murakami",
    summary:
      "The stories are about men who have lost women in their lives, usually to other men or death.",
    genre: "Anthology",
    bookCover:
      "https://upload.wikimedia.org/wikipedia/en/e/e1/Onna_no_inai_otokotachi_%28Murakami_book%29.png",
    publishData: {
      name: "Bungeishunjū",
      year: 2014,
    },
    rating: 4,
    readingDate: {
      start: "02-08-2024",
      end: "02-28-24",
    },
  },
  {
    title: "Another Book",
    author: "Haruki Murakami",
    summary: "in their lives, The s lost women  usually to other men or death.",
    genre: "sportsMemoir",
    bookCover:
      "https://images.bwbcovers.com/030/What-I-Talk-about-When-I-Talk-about-Running-Murakami-Haruki-9780307269195.jpg",
    publishData: {
      name: "Random House",
      year: 2004,
    },
    rating: 5,
    readingDate: {
      start: "01-03-2024",
      end: "03-06-24",
    },
  },
  {
    title: "Without Women",
    author: "Haruki Murakami",
    summary:
      "The stories are about men who have lost women in their lives, usually to other men or death.",
    genre: "Anthology",
    bookCover:
      "https://upload.wikimedia.org/wikipedia/en/e/e1/Onna_no_inai_otokotachi_%28Murakami_book%29.png",
    publishData: {
      name: "Bungeishunjū",
      year: 2014,
    },
    rating: 4,
    readingDate: {
      start: "02-08-2024",
      end: "02-28-24",
    },
  },
  {
    title: "Another Book",
    author: "Haruki Murakami",
    summary: "in their lives, The s lost women  usually to other men or death.",
    genre: "sportsMemoir",
    bookCover:
      "https://images.bwbcovers.com/030/What-I-Talk-about-When-I-Talk-about-Running-Murakami-Haruki-9780307269195.jpg",
    publishData: {
      name: "Random House",
      year: 2004,
    },
    rating: 5,
    readingDate: {
      start: "01-03-2024",
      end: "03-06-24",
    },
  },
  {
    title: "Without Women",
    author: "Haruki Murakami",
    summary:
      "The stories are about men who have lost women in their lives, usually to other men or death.",
    genre: "Anthology",
    bookCover:
      "https://upload.wikimedia.org/wikipedia/en/e/e1/Onna_no_inai_otokotachi_%28Murakami_book%29.png",
    publishData: {
      name: "Bungeishunjū",
      year: 2014,
    },
    rating: 4,
    readingDate: {
      start: "02-08-2024",
      end: "02-28-24",
    },
  },
  {
    title: "Another Book",
    author: "Haruki Murakami",
    summary: "in their lives, The s lost women  usually to other men or death.",
    genre: "sportsMemoir",
    bookCover:
      "https://images.bwbcovers.com/030/What-I-Talk-about-When-I-Talk-about-Running-Murakami-Haruki-9780307269195.jpg",
    publishData: {
      name: "Random House",
      year: 2004,
    },
    rating: 5,
    readingDate: {
      start: "01-03-2024",
      end: "03-06-24",
    },
  },
  {
    title: "Without Women",
    author: "Haruki Murakami",
    summary:
      "The stories are about men who have lost women in their lives, usually to other men or death.",
    genre: "Anthology",
    bookCover:
      "https://upload.wikimedia.org/wikipedia/en/e/e1/Onna_no_inai_otokotachi_%28Murakami_book%29.png",
    publishData: {
      name: "Bungeishunjū",
      year: 2014,
    },
    rating: 4,
    readingDate: {
      start: "02-08-2024",
      end: "02-28-24",
    },
  },
  {
    title: "Another Book",
    author: "Haruki Murakami",
    summary: "in their lives, The s lost women  usually to other men or death.",
    genre: "sportsMemoir",
    bookCover:
      "https://images.bwbcovers.com/030/What-I-Talk-about-When-I-Talk-about-Running-Murakami-Haruki-9780307269195.jpg",
    publishData: {
      name: "Random House",
      year: 2004,
    },
    rating: 5,
    readingDate: {
      start: "01-03-2024",
      end: "03-06-24",
    },
  },
  {
    title: "Without Women",
    author: "Haruki Murakami",
    summary:
      "The stories are about men who have lost women in their lives, usually to other men or death.",
    genre: "Anthology",
    bookCover:
      "https://upload.wikimedia.org/wikipedia/en/e/e1/Onna_no_inai_otokotachi_%28Murakami_book%29.png",
    publishData: {
      name: "Bungeishunjū",
      year: 2014,
    },
    rating: 4,
    readingDate: {
      start: "02-08-2024",
      end: "02-28-24",
    },
  },
  {
    title: "Another Book",
    author: "Haruki Murakami",
    summary: "in their lives, The s lost women  usually to other men or death.",
    genre: "sportsMemoir",
    bookCover:
      "https://images.bwbcovers.com/030/What-I-Talk-about-When-I-Talk-about-Running-Murakami-Haruki-9780307269195.jpg",
    publishData: {
      name: "Random House",
      year: 2004,
    },
    rating: 5,
    readingDate: {
      start: "01-03-2024",
      end: "03-06-24",
    },
  },
];

window.addEventListener("load", () => {
  init();
});

const init = function () {
  const bookShelf = document.getElementById("bookshelf");
  

  const sortedBooks = books.sort((a,b)=>{

    if(a.title > b.title ){
        return 1;
    }else if (a.title < b.title){
        return -1;
    }else{
        return 0;
    }

  })



  books.map(function (book, i) {
    const bookItem = buildBookItem(book, i);
    bookShelf.innerHTML = bookShelf.innerHTML + bookItem;
  });

  let bookDivs = [...document.getElementsByClassName("book-item")];

  bookDivs.map((bookDiv, i) => {
    bookDiv.addEventListener(
      "click",

      () => {
        activatePopUp(books[i]);
      }
    );
  });
};

const activatePopUp = function (book) {
  document.body.style.overflow = "hidden";
  var popUp = document.getElementById("pop-up-wrapper");
  popUp.style.display = "block";
  var popUpDisplay = document.getElementById("pop-up-data");

  const newDetailView = buildDetailBookItem(book);

  popUpDisplay.innerHTML = newDetailView;
};

const buildDetailBookItem = function (book, i) {
  return `<div class="book-detail" id=${i}>
    <h2>${book.title}</h2>
        <img src=${book.bookCover}>
    </div>`;
};

const buildBookItem = function (book, i) {
  return `<div class="book-item" id=${i}>
        <img src=${book.bookCover}>
        <div class="text-content">
        <div>
            <h2>${book.title}</h2>
            <h3>${book.author}</h3>
            <p class="rating">${book.rating} <img class="rating-star" src="https://t4.ftcdn.net/jpg/05/40/09/17/360_F_540091788_AvDyNUSbtnKQfNccukuFa3ZlsHFnMYrK.jpg"></p>
            <div class="reading-date">
                Completed: <p>${book.readingDate.end}</p>
            </div>
            </div>
          
        </div>
    </div>`;
};

// <div class="summary">
// <p>${book.genre}</p
// <p>${book.summary}<p></div>
